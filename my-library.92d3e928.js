function t(t,e,i,n){Object.defineProperty(t,e,{get:i,set:n,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},l=i.parcelRequired7c6;null==l&&((l=function(t){if(t in n)return n[t].exports;if(t in o){var e=o[t];delete o[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(t,e){o[t]=e},i.parcelRequired7c6=l),l.register("kyEFX",(function(e,i){var n,o;t(e.exports,"register",(function(){return n}),(function(t){return n=t})),t(e.exports,"resolve",(function(){return o}),(function(t){return o=t}));var l={};n=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)l[e[i]]=t[e[i]]},o=function(t){var e=l[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),l("kyEFX").register(JSON.parse('{"Ujaud":"my-library.92d3e928.js","lp5u4":"sprite.5d6e6df3.svg"}'));var s,a=l("7me8F");s=new URL(l("kyEFX").resolve("lp5u4"),import.meta.url).toString();const r=new(0,l("88dhD").default);r.setLibrary();class d{constructor(t,e,i){this.btn=t,this.btnStateStorageKey=e,this.movie=i}setBtnState(){r.movies.some((t=>t.id===this.movie.id))?(this.btn.setAttribute("data-action","remove"),this.btn.textContent="Remove from library"):(this.btn.setAttribute("data-action","add"),this.btn.textContent="Add to library"),this.btn.addEventListener("click",(()=>{"add"===this.btn.getAttribute("data-action")?this.toAdd():this.toRemove()}))}toAdd(){r.addMovie(this.movie),this.btn.removeEventListener("click",this.toAdd),this.btn.setAttribute("data-action","remove"),localStorage.setItem(this.btnStateStorageKey,"remove"),this.btn.textContent="Remove from library"}toRemove(){r.deleteMovie(this.movie),this.btn.removeEventListener("click",this.toRemove),this.btn.setAttribute("data-action","add"),localStorage.setItem(this.btnStateStorageKey,"add"),this.btn.textContent="Add to library"}}var c=l("Iwkks");const m=new(0,a.default),u=document.getElementById("catalg"),v=document.getElementById("mylibraryMovielist"),f=document.getElementById("catalogMovielist"),b=document.querySelector(".modal-film"),h=document.querySelector(".overlay");function g(t){t&&t.addEventListener("click",p)}async function p(t){if(t.target.closest(".movielist-item"))try{const i=t.target.closest(".movielist-item").getAttribute("data-id"),n=await m.getMovieInfo(i);!function(t){b.innerHTML=t}(function({id:t,poster_path:i,title:n,overview:o,popularity:l,vote_average:a,vote_count:r,genres:d}){const c=m(i);function m(t){return`srcset="\n                https://image.tmdb.org/t/p/w500/${t} 500w,\n                https://image.tmdb.org/t/p/w300/${t} 342w,\n                https://image.tmdb.org/t/p/w185/${t} 185w"\n        src="https://image.tmdb.org/t/p/w500/${t}"\n\n        " sizes=" (min-width: 768px) 500px, (min-width: 480px) 342px, (min-width: 320px) 185px, 100vw"   \n    `}return`<div class="modal-film__container" data-id=${t}>\n  <button class="modal-film__close">\n    <svg width="18" height="18" class="modal-film__close-icon">\n    <use href="${e(s)}#icon-close2"></use>       \n</svg>\n  </button>\n  <img ${c} loading="lazy" alt="movie-poster" class="modal-film__img" />\n  <div class="modal-film__card">\n    <h2 class="modal-film__title">${n}</h2>\n    <div class="modal-film__blok">\n      <ul class="modal-film__list attribute">\n        <li class="modal-film__link">Vote / Votes</li>\n        <li class="modal-film__link">Popularity</li>\n        <li class="modal-film__link">Genre</li>\n      </ul>\n\n      <ul class="modal-film__list">\n        <li class="modal-film__link-item item-votes">\n          <div class="vote">${a}</div>\n          &nbsp;/&nbsp;\n          <div class="votes">${r}</div>\n        </li>\n        <li class="modal-film__link-item popularity">${l}</li>\n        <li class="modal-film__link-item genres">${d.map((t=>t.name)).join(", ")}</li>\n      </ul>\n    </div>\n    <h3 class="modal-film__about">ABOUT</h3>\n    <p class="modal-film__about-txt">${o}\n    </p>\n    <button class="btn" id="mylibrary" data-action="add">Add to my library</button>`}(n));document.querySelector(".modal-film__close").addEventListener("click",y),b.classList.remove("hidden"),h.classList.remove("hidden"),document.body.style.overflow="hidden";const o=document.getElementById("mylibrary");new d(o,"modal-btn-attr",n).setBtnState()}catch(t){console.log(t)}}function y(){b.classList.add("hidden"),h.classList.add("hidden"),document.body.style.overflow="auto",(0,c.checkStorage)()}g(u),g(f),g(v),h.addEventListener("click",y),window.addEventListener("keydown",(function(t){"Escape"!==t.key||b.classList.contains("hidden")||y()}));
//# sourceMappingURL=my-library.92d3e928.js.map
