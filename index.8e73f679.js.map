{"mappings":"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","sources":["src/js/header.js","src/js/index.js","src/js/hero.js","src/js/api-home.js"],"sourcesContent":["const mobileMenuButton = document.getElementById('menu');\nconst menuNav = document.getElementById('navi');\nconst overlay = document.getElementById('overlay');\n\nmobileMenuButton.addEventListener('click', () => {\n  menuNav.style.left = '0';\n  overlay.style.display = 'block';\n});\n\noverlay.addEventListener('click', () => {\n  menuNav.style.left = '-64%';\n  overlay.style.display = 'none';\n});\n\n//\nconst LightSwitcher = document.getElementById('switch');\nlet isLight = localStorage.getItem('isLight') === 'true';\n\ndocument.body.classList.toggle('light', isLight);\n\nLightSwitcher.onclick = function () {\n  isLight = !isLight;\n  document.body.classList.toggle('light', isLight);\n  localStorage.setItem('isLight', isLight);\n};\n\n// page link color\n\nconst currentUrl = window.location.href;\n\nconst navLink = document.querySelectorAll(\n  '.mobile-menu__link, .header__nav-link'\n);\n\nnavLink[0].classList.add('current__nav-link');\nnavLink[3].classList.add('current__nav-link');\n\nif (currentUrl.includes('index')) {\n  return;\n} else if (currentUrl.includes('catalog')) {\n  navLink[0].classList.remove('current__nav-link');\n  navLink[3].classList.remove('current__nav-link');\n  navLink[1].classList.add('current__nav-link');\n  navLink[4].classList.add('current__nav-link');\n  return;\n} else if (currentUrl.includes('library')) {\n  navLink[0].classList.remove('current__nav-link');\n  navLink[3].classList.remove('current__nav-link');\n  navLink[1].classList.remove('current__nav-link');\n  navLink[4].classList.remove('current__nav-link');\n  navLink[2].classList.add('current__nav-link');\n  navLink[5].classList.add('current__nav-link');\n  return;\n}\n","import './header';\nimport './hero';\nimport './movie-list';\nimport './upcoming';\nimport './footer';\nimport './my-library';\nimport './modal';\nimport './oops';\nimport './buttons-icons';\nimport './api-home';\n","function updateTextHero(description) {\n  const heroText = document.getElementById('hero_text');\n\n  if (window.innerWidth >= 768) {\n    heroText.textContent =\n      description ||\n      \"Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers. Decorate your space, choose your films, and stock up on snacks for the full experience.\";\n  } else {\n    heroText.textContent =\n      description ||\n      \"Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers.\";\n    heroText.classList.add('hero_text_2');\n  }\n}\nfunction createDefaultHeroSection() {\n  const heroSection = document.querySelector('#hero'); // Usuń znak '#'\n\n  // Ustawienie zawartości\n  heroSection.innerHTML = `\n    <div class=\"hero_background container\">\n      <h2 class=\"hero__text-1\">Let’s Make Your Own Cinema</h2>\n      <h3 class=\"hero__text-2\" id=\"hero_text\">Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers.</h3>\n      <button class=\"hero__button\" onclick=\"window.location.href='catalog.html';\">\n        <span class=\"hero__span-button\">Get Started</span>\n      </button>\n    </div>\n  `;\n\n  updateTextHero();\n\n  window.addEventListener('resize', updateTextHero);\n}\n\nfunction updateTextHero() {}\n\nconst createHeroMovie = results => {\n  if (results.data.results.length === 0) {\n    console.error('No movies found');\n    createDefaultHeroSection();\n    return;\n  }\n};\n// const apiKey = 'bf204b214cbfbbf1225f0513f78ae506';\n// const apiUrl = `https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&language=en-US&page=1`;\n","import axios from 'axios';\nimport {genres, fullStar, halfStar, emptyStar, \n  heroFragment, topMoviesFragment, \n  upcomingMovieFragment, emptyApiResponeHero, \n  emptyApiResponeCatalog} from './api-html-fragment.js'\n\nconst params = {\n  page: 1,\n  language: 'en-US',\n  api_key: '682127ed972e56f6bb70ae743d23c1d7',\n};\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${params.api_key}`,\n  },\n};\n\nconst urls = {\n  trendMoviesDay: `https://api.themoviedb.org/3/trending/movie/day`,\n  trendMoviesWeek: `https://api.themoviedb.org/3/trending/movie/week`,\n  upcomingMovies: `https://api.themoviedb.org/3/movie/upcoming`,\n};\nconst generateStars = rating => {\n  let fullStars = Math.floor(rating);\n  let halfStars = rating % 1 >= 0.5 ? 1 : 0;\n  let emptyStars = 5 - fullStars - halfStars;\n  return `${fullStar.repeat(fullStars)}${halfStar.repeat(\n    halfStars\n  )}${emptyStar.repeat(emptyStars)}`;\n};\n\nconst createHeroMovie = resResponse => {\n  const maxLength = 200;\n  const heroSection = document.querySelector('#hero');\n  const randomMovieIndex = Math.floor(Math.random() * resResponse.data.results.length);\n  const topDayMovie = resResponse.data.results[randomMovieIndex];\n  const cutText = (text, maxLength) => text.length > maxLength ? text.slice(0, maxLength) + '...' : text;\n  const truncatedOverview = cutText(topDayMovie.overview, maxLength);\n  const rating = topDayMovie.vote_average / 2;\n  const starsHTML = generateStars(rating);\n\n  heroSection.innerHTML =heroFragment(topDayMovie.id, topDayMovie.backdrop_path, topDayMovie.title, starsHTML, truncatedOverview)\n};\n\n// const createHeroMovie = results => {\n//   // if (\n//   //   !results ||\n//   //   !results.data ||\n//   //   !results.data.results ||\n//   //   results.data.results.length === 0\n//   // ) {\n//   //   console.error('Invalid results data');\n//   //   return;\n//   // }\n// };\n\n\n\n//nie działa\nconst movieGenresCompare = (arr1, arr2) => {\n\tconst finalArr = [];\n\tfor (i = 0; i < arr1.length; i += 1) {\n\t\t\t\tif (arr2.includes(arr1[i].id)) {\n\t\t\t\t\tfinalArr.push(arr1[i].name)\n\t\t\t\t}\n\t\t\t}\n\n\treturn finalArr.slice(0,2).join(\", \");\n}\n\nconst catalogItem = (movie) =>{\n  const movieGenres = movieGenresCompare(movie.genre_ids, genres)\n  const releaseYear = movie.release_date.slice(0, 4);\n  const rating = movie.vote_average / 2;\n  const starsHTML = generateStars(rating);\n  return topMoviesFragment(movie.id, movie.backdrop_path, movie.title, movieGenres, releaseYear, starsHTML, movie.id)\n}\n\nconst crateCatalog = (movies)=>{\n  const moviesCatalog = document.querySelector('#catalogMovielist');\n  let weekMoviesSectionFragment=\"\"\n  for (let index = 0; index < 3; index++) {\n    weekMoviesSectionFragment = weekMoviesSectionFragment + catalogItem(movies[index])\n  }\n  moviesCatalog.innerHTML=weekMoviesSectionFragment\n}\n\nconst createUpcomingMovie = movies => {\n  \n  const upcomingSection = document.querySelector('#upcoming');\n  const randomMovie = Math.floor(Math.random() * movies.length);\n  const upcomingMovie = movies[randomMovie];\n  console.log(upcomingMovie.id)\n  upcomingSection.innerHTML = upcomingMovieFragment(upcomingMovie.id, upcomingMovie.backdrop_path, upcomingMovie.title, upcomingMovie.overview)\n};\nfunction createDefaultHeroSection() {\n  const heroSection = document.querySelector('#hero');\n  heroSection.innerHTML = emptyApiResponeHero;}\n\n\nconst homePageApiData = url =>\n  axios\n    .get(url, { params, ...options })\n    .then(resResponse => {\n      if (url.includes('day')) {\n        const length=resResponse.data.results.length\n        //const length =0\n        if (length===0){\n          createDefaultHeroSection()\n          return;\n        }\n        //console.log(\"day:\", results)\n        createHeroMovie(resResponse);\n        return;\n      }\n      if (url.includes('week')) {\n        //console.log(\"week:\", results)\n        crateCatalog(resResponse.data.results);\n        return;\n      }\n      if (url.includes('upcoming')) {\n        //console.log(\"upcoming:\", results)\n        createUpcomingMovie(resResponse.data.results);\n        return;\n      }\n    })\n    .catch(error => {\n      if (url.includes('day')) {\n        if (length===0){\n          createDefaultHeroSection()\n          return;\n        }}\n      console.log(error)});\n\nconst homePageContent = async () =>\n  await Promise.all([\n    homePageApiData(urls.trendMoviesDay),\n    homePageApiData(urls.trendMoviesWeek),\n    homePageApiData(urls.upcomingMovies),\n  ]);\n\nhomePageContent();\n"],"names":["mobileMenuButton","document","getElementById","menuNav","overlay","addEventListener","style","left","display","LightSwitcher","isLight","localStorage","getItem","body","classList","toggle","onclick","setItem","currentUrl","window","location","href","navLink","querySelectorAll","add","includes","remove","parcelRequire","$bpxeT","$3a55cfafb3b9c261$var$params","page","language","api_key","$3a55cfafb3b9c261$var$options","method","headers","accept","Authorization","concat","$3a55cfafb3b9c261$var$urls","$3a55cfafb3b9c261$var$generateStars","rating","fullStars","Math","floor","halfStars","emptyStars","$8OCXI","fullStar","repeat","halfStar","emptyStar","$3a55cfafb3b9c261$var$catalogItem","movie","movieGenres","arr1","arr2","finalArr","i","length","id","push","name","slice","join","$3a55cfafb3b9c261$var$movieGenresCompare","genre_ids","genres","releaseYear","release_date","vote_average","starsHTML","topMoviesFragment","backdrop_path","title","$3a55cfafb3b9c261$var$createDefaultHeroSection","querySelector","innerHTML","emptyApiResponeHero","$3a55cfafb3b9c261$var$homePageApiData","url","$dIxxU","default","get","$parcel$interopDefault","$dDDEV","params","then","resResponse","movies","upcomingSection","upcomingMovie","data","results","text","maxLength","heroSection","randomMovieIndex","random","topDayMovie","truncatedOverview","overview","heroFragment","$3a55cfafb3b9c261$var$createHeroMovie","moviesCatalog","weekMoviesSectionFragment","index","$3a55cfafb3b9c261$var$crateCatalog","console","log","upcomingMovieFragment","catch","error","$3a55cfafb3b9c261$var$homePageContent","$2TvXO","mark","_callee","Promise","all"],"version":3,"file":"index.8e73f679.js.map"}