!function(){function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},o=n.parcelRequired7c6;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},n.parcelRequired7c6=o),o.register("iE7OH",(function(t,n){var a,r;e(t.exports,"register",(function(){return a}),(function(e){return a=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var o={};a=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},r=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o.register("aNJCr",(function(t,n){var a;e(t.exports,"getBundleURL",(function(){return a}),(function(e){return a=e}));var r={};function o(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}a=function(e){var t=r[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return o(e[2])}return"/"}(),r[e]=t),t}})),o("iE7OH").register(JSON.parse('{"dxLsE":"index.82189aa1.js","ee16w":"sprite.5d6e6df3.svg","qk28J":"catalog.7e1f3108.js"}'));var s,c=o("bpxeT"),i=o("2TvXO"),l=(c=o("bpxeT"),o("8MBJY")),u=o("a2hTj"),d=(i=o("2TvXO"),o("dIxxU")),p=function(){"use strict";function e(){t(l)(this,e),this.key="682127ed972e56f6bb70ae743d23c1d7",this.baseURL="https://api.themoviedb.org/3/",this.page=0}return t(u)(e,[{key:"resetPage",value:function(){this.page=0}},{key:"getTrends",value:function(e,n){var a=this,r=arguments;return t(c)(t(i).mark((function o(){var s,c;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r.length<2)){t.next=15;break}return t.prev=1,a.page+=1,t.next=5,d.default.get("".concat(a.baseURL,"trending/movie/").concat(e,"?api_key=").concat(a.key,"&page=").concat(a.page));case 5:return s=t.sent,console.log(s.data.results),t.abrupt("return",s.data.results);case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:t.next=26;break;case 15:return t.prev=15,t.next=18,d.default.get("".concat(a.baseURL,"trending/movie/").concat(e,"?api_key=").concat(a.key,"&page=").concat(n));case 18:return c=t.sent,console.log(c.data),t.abrupt("return",c.data);case 23:t.prev=23,t.t1=t.catch(15),console.log(t.t1);case 26:case"end":return t.stop()}}),o,null,[[1,10],[15,23]])})))()}},{key:"getUpcoming",value:function(){var e=this;return t(c)(t(i).mark((function n(){var a;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.default.get("".concat(e.baseURL,"movie/upcoming?api_key=").concat(e.key));case 3:return a=t.sent,console.log(a.data.results),t.abrupt("return",a.data.results);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),n,null,[[0,8]])})))()}},{key:"searchMovieByQuery",value:function(e,n){var a=this,r=arguments;return t(c)(t(i).mark((function o(){var s,c;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r.length<2)){t.next=14;break}return t.prev=1,a.page+=1,t.next=5,d.default.get("".concat(a.baseURL,"search/movie?api_key=").concat(a.key,"&query=").concat(e,"&page=").concat(a.page));case 5:return s=t.sent,t.abrupt("return",s.data.results);case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:t.next=24;break;case 14:return t.prev=14,t.next=17,d.default.get("".concat(a.baseURL,"search/movie?api_key=").concat(a.key,"&query=").concat(e,"&page=").concat(n));case 17:return c=t.sent,t.abrupt("return",c.data);case 21:t.prev=21,t.t1=t.catch(14),console.log(t.t1);case 24:case"end":return t.stop()}}),o,null,[[1,9],[14,21]])})))()}},{key:"getMovieInfo",value:function(e){var n=this;return t(c)(t(i).mark((function a(){var r;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.default.get("".concat(n.baseURL,"movie/").concat(e,"?api_key=").concat(n.key));case 3:return r=t.sent,console.log(r.data),t.abrupt("return",r.data);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),a,null,[[0,8]])})))()}},{key:"getMovieTrailer",value:function(e){var n=this;return t(c)(t(i).mark((function a(){var r;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.default.get("".concat(n.baseURL,"movie/").concat(e,"/videos?api_key=").concat(n.key));case 3:return r=t.sent,console.log(r.data.results[0]),t.abrupt("return",r.data.results[0]);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),a,null,[[0,8]])})))()}},{key:"getGenresList",value:function(){var e=this;return t(c)(t(i).mark((function n(){var a;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.default.get("".concat(e.baseURL,"genre/movie/list?api_key=").concat(e.key));case 3:return a=t.sent,console.log(a.data.genres),t.abrupt("return",a.data.genres);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),n,null,[[0,8]])})))()}},{key:"getMovieContries",value:function(){var e=this;return t(c)(t(i).mark((function n(){var a;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.default.get("".concat(e.baseURL,"configuration/countries?api_key=").concat(e.key));case 3:return a=t.sent,console.log(a.data),t.abrupt("return",a.data);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),n,null,[[0,8]])})))()}}]),e}();s=o("aNJCr").getBundleURL("dxLsE")+o("iE7OH").resolve("ee16w");l=o("8MBJY"),u=o("a2hTj"),l=o("8MBJY"),u=o("a2hTj");var v=function(){"use strict";function e(){t(l)(this,e),this.keyValue="library",this.movies=localStorage.getItem(this.keyValue)}return t(u)(e,[{key:"updateLocalStorage",value:function(){localStorage.setItem(this.keyValue,JSON.stringify(this.movies)),console.log(this.movies,"updated localS")}},{key:"setLibrary",value:function(){var e=localStorage.getItem(this.keyValue);e?this.movies=JSON.parse(e):(localStorage.setItem(this.keyValue,JSON.stringify([])),this.movies=[]),console.log(this.movies,"this.movies")}},{key:"addMovie",value:function(e){this.movies.push(e),this.updateLocalStorage()}},{key:"deleteMovie",value:function(e){var t=this.movies.findIndex((function(t){return t.id===e.id}));this.movies.splice(t,1),this.updateLocalStorage()}}]),e}(),f=new v;f.setLibrary();var m=function(){"use strict";function e(n,a,r){t(l)(this,e),this.btn=n,this.btnStateStorageKey=a,this.movie=r}return t(u)(e,[{key:"setBtnState",value:function(){var e=this;f.movies.some((function(t){return t.id===e.movie.id}))?(this.btn.setAttribute("data-action","remove"),this.btn.textContent="Remove from library"):(this.btn.setAttribute("data-action","add"),this.btn.textContent="Add to library"),this.btn.addEventListener("click",(function(){"add"===e.btn.getAttribute("data-action")?e.toAdd():e.toRemove()}))}},{key:"toAdd",value:function(){f.addMovie(this.movie),this.btn.removeEventListener("click",this.toAdd),this.btn.setAttribute("data-action","remove"),localStorage.setItem(this.btnStateStorageKey,"remove"),this.btn.textContent="Remove from library"}},{key:"toRemove",value:function(){f.deleteMovie(this.movie),this.btn.removeEventListener("click",this.toRemove),this.btn.setAttribute("data-action","add"),localStorage.setItem(this.btnStateStorageKey,"add"),this.btn.textContent="Add to library"}}]),e}(),h=(c=o("bpxeT"),i=o("2TvXO"),'<svg class="star" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z" stroke="url(#paint0_linear_405_766)" stroke-linejoin="round"/>\n<defs>\n<linearGradient id="paint0_linear_405_766" x1="3.375" y1="2.625" x2="13.5" y2="16.5" gradientUnits="userSpaceOnUse">\n<stop stop-color="#F84119"/>\n<stop offset="1" stop-color="#F89F19" stop-opacity="0.68"/>\n</linearGradient>\n</defs>\n</svg>'),g='<svg class="star" width="18" height="18" viewBox="0 0 18 18" fill="rgba(248, 65, 25, 1)" xmlns="http://www.w3.org/2000/svg">\n<path d="M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z" stroke="url(#paint0_linear_405_766)" stroke-linejoin="round"/>\n<defs>\n<linearGradient id="paint0_linear_405_766" x1="3.375" y1="2.625" x2="13.5" y2="16.5" gradientUnits="userSpaceOnUse">\n<stop stop-color="#F84119"/>\n<stop offset="1" stop-color="#F89F19" stop-opacity="0.68"/>\n</linearGradient>\n</defs>\n</svg>',b='<svg class="star" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z" stroke="url(#paint0_linear_148_6991)" stroke-linejoin="round"/>\n<path d="M9 1.6875V12.7969L4.14844 16.3125L6.04688 10.6875L1.125 7.3125H7.17188L9 1.6875Z" fill="url(#paint1_linear_148_6991)"/>\n<defs>\n<linearGradient id="paint0_linear_148_6991" x1="3.04877" y1="2.73251" x2="13.478" y2="16.7124" gradientUnits="userSpaceOnUse">\n<stop stop-color="#F84119"/>\n<stop offset="1" stop-color="#F89F19" stop-opacity="0.68"/>\n</linearGradient>\n<linearGradient id="paint1_linear_148_6991" x1="2.08688" y1="2.73251" x2="12.1506" y2="9.47748" gradientUnits="userSpaceOnUse">\n<stop stop-color="#F84119"/>\n<stop offset="1" stop-color="#F89F19" stop-opacity="0.68"/>\n</linearGradient>\n</defs>\n</svg>',y=(d=o("dIxxU")).default,_=new p;function k(){return(k=t(c)(t(i).mark((function e(){var n;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.getGenresList();case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function x(e,t){return w.apply(this,arguments)}function w(){return(w=t(c)(t(i).mark((function e(n,a){var r,o,s,c,l,u,d,p,v,f,m,h,g,b,y,_,k;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=document.querySelector("".concat(a)),o="",s=!0,c=!1,l=void 0,e.prev=3,u=n[Symbol.iterator]();case 5:if(s=(d=u.next()).done){e.next=24;break}return p=d.value,v=p.id,f=p.poster_path,m=p.title,h=p.release_date,g=p.vote_average,e.next=10,R(f,m);case 10:return b=e.sent,e.next=13,U(v);case 13:return y=e.sent,e.next=16,L(h);case 16:return _=e.sent,e.next=19,M(g);case 19:k=e.sent,o+="<li class='cards__list-item' data-id='".concat(v,"'>\n                    \n    <img class='cards__list-img' loading=\"lazy\" ").concat(b," width='395' height='574'/>\n    \n                   <div class='weekly-trends__overlay'></div>\n                    <div class='cards__list-search'>                       \n                        <div class='cards__bloc-stars'>\n                          <h3 class='cards__list-title'>").concat(m,"</h3>\n                          <div class='cards__list-text'>").concat(y,"|").concat(_,"<span class='cards__list-span'></span></div>\n                        </div>  \n                        \n                        \n                    </div>\n                    <div class='cards__list-stars'>").concat(k,"</div>\n                </li>");case 21:s=!0,e.next=5;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(3),c=!0,l=e.t0;case 30:e.prev=30,e.prev=31,s||null==u.return||u.return();case 33:if(e.prev=33,!c){e.next=36;break}throw l;case 36:return e.finish(33);case 37:return e.finish(30);case 38:if(r){e.next=40;break}return e.abrupt("return");case 40:r.innerHTML=o;case 41:case"end":return e.stop()}}),e,null,[[3,26,30,38],[31,,33,37]])})))).apply(this,arguments)}function L(e){return S.apply(this,arguments)}function S(){return(S=t(c)(t(i).mark((function e(n){var a;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return","There is no release date");case 2:return e.next=4,n.slice(0,4);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return E.apply(this,arguments)}function E(){return(E=t(c)(t(i).mark((function e(n){var a,r;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"682127ed972e56f6bb70ae743d23c1d7","https://api.themoviedb.org/3/movie/",e.prev=2,e.next=5,y.get("".concat("https://api.themoviedb.org/3/movie/").concat(n),{params:{api_key:"682127ed972e56f6bb70ae743d23c1d7"}});case 5:if(0!==(a=e.sent).data.genres.length){e.next=8;break}return e.abrupt("return",error);case 8:return r=a.data.genres.slice(0,2).map((function(e){return e.name})).join(", "),e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return","There are no genres");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function M(e){var t="";if(!e)return t="".concat(h.repeat(5)),"<div>".concat(t,"</div>");switch(Math.round(e)){case 0:t="".concat(h.repeat(5));break;case 1:t="".concat(b).concat(h.repeat(4));break;case 2:t="".concat(g).concat(h.repeat(4));break;case 3:t="".concat(g).concat(b).concat(h.repeat(3));break;case 4:t="".concat(g.repeat(2)).concat(h.repeat(3));break;case 5:t="".concat(g.repeat(2)).concat(b).concat(h.repeat(2));break;case 6:t="".concat(g.repeat(3)).concat(h.repeat(2));break;case 7:t="".concat(g.repeat(3)).concat(b).concat(h);break;case 8:t="".concat(g.repeat(4)).concat(h);break;case 9:t="".concat(g.repeat(4)).concat(b);break;case 10:t="".concat(g.repeat(5));break;default:throw new Error("Invalid rating")}return"<div>".concat(t,"</div>")}function R(e,t){return'\n    srcset="\n                https://image.tmdb.org/t/p/w500/'.concat(e," 500w,\n                https://image.tmdb.org/t/p/w300/").concat(e," 342w,\n                https://image.tmdb.org/t/p/w185/").concat(e,' 185w"\n        src="https://image.tmdb.org/t/p/w500/').concat(e,'"\n\n        " sizes=" (min-width: 768px) 500px, (min-width: 480px) 342px, (min-width: 320px) 185px, 100vw"   \n     alt=\'').concat(t,"'")}!function(){k.apply(this,arguments)}();var O=new v;function T(){if(O.setLibrary(),0===O.movies.length){if(!document.querySelector(".my-lib__no-movies"))return;document.querySelector(".my-lib__no-movies").classList.remove("visually-hidden"),document.querySelector(".my-lib__gallery-list").innerHTML=""}else x(O.movies,".my-lib__gallery-list")}O.setLibrary(),T();var H=new p,A=document.getElementById("catalg"),B=document.getElementById("mylibraryMovielist"),F=document.getElementById("catalogMovielist"),I=document.querySelector(".modal-film"),j=document.querySelector(".overlay");function q(e){e&&e.addEventListener("click",G)}function G(e){return J.apply(this,arguments)}function J(){return(J=t(c)(t(i).mark((function e(n){var a,r,o;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.target.closest(".movielist-item")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,a=n.target.closest(".movielist-item").getAttribute("data-id"),e.next=6,H.getMovieInfo(a);case 6:r=e.sent,N(V(r)),document.querySelector(".modal-film__close").addEventListener("click",z),C(),o=document.getElementById("mylibrary"),new m(o,"modal-btn-attr",r).setBtnState(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})))).apply(this,arguments)}function C(){I.classList.remove("hidden"),j.classList.remove("hidden"),document.body.style.overflow="hidden"}function N(e){I.innerHTML=e}function V(e){var n,a=e.id,r=e.poster_path,o=e.title,c=e.overview,i=e.popularity,l=e.vote_average,u=e.vote_count,d=e.genres,p='srcset="\n                https://image.tmdb.org/t/p/w500/'.concat(n=r," 500w,\n                https://image.tmdb.org/t/p/w300/").concat(n," 342w,\n                https://image.tmdb.org/t/p/w185/").concat(n,' 185w"\n        src="https://image.tmdb.org/t/p/w500/').concat(n,'"\n\n        " sizes=" (min-width: 768px) 500px, (min-width: 480px) 342px, (min-width: 320px) 185px, 100vw"   \n    ');return'<div class="modal-film__container" data-id='.concat(a,'>\n  <button class="modal-film__close">\n    <svg width="18" height="18" class="modal-film__close-icon">\n    <use href="').concat(t(s),'#icon-close2"></use>       \n</svg>\n  </button>\n  <img ').concat(p,' loading="lazy" alt="movie-poster" class="modal-film__img" />\n  <div class="modal-film__card">\n    <h2 class="modal-film__title">').concat(o,'</h2>\n    <div class="modal-film__blok">\n      <ul class="modal-film__list attribute">\n        <li class="modal-film__link">Vote / Votes</li>\n        <li class="modal-film__link">Popularity</li>\n        <li class="modal-film__link">Genre</li>\n      </ul>\n\n      <ul class="modal-film__list">\n        <li class="modal-film__link-item item-votes">\n          <div class="vote">').concat(l,'</div>\n          &nbsp;/&nbsp;\n          <div class="votes">').concat(u,'</div>\n        </li>\n        <li class="modal-film__link-item popularity">').concat(i,'</li>\n        <li class="modal-film__link-item genres">').concat(d.map((function(e){return e.name})).join(", "),'</li>\n      </ul>\n    </div>\n    <h3 class="modal-film__about">ABOUT</h3>\n    <p class="modal-film__about-txt">').concat(c,'\n    </p>\n    <button class="btn" id="mylibrary" data-action="add">Add to my library</button>')}function z(){I.classList.add("hidden"),j.classList.add("hidden"),document.body.style.overflow="auto",T()}q(A),q(F),q(B),j.addEventListener("click",z),window.addEventListener("keydown",(function(e){"Escape"!==e.key||I.classList.contains("hidden")||z()}))}();
//# sourceMappingURL=index.82189aa1.js.map
