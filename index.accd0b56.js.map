{"mappings":"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","sources":["src/js/header.js","src/js/index.js","src/js/api-home.js"],"sourcesContent":["const mobileMenuButton = document.getElementById('menu');\nconst menuNav = document.getElementById('navi');\nconst overlay = document.getElementById('overlay');\n\nmobileMenuButton.addEventListener('click', () => {\n  menuNav.style.left = '0';\n  overlay.style.display = 'block';\n});\n\noverlay.addEventListener('click', () => {\n  menuNav.style.left = '-64%';\n  overlay.style.display = 'none';\n});\n\n//\nconst LightSwitcher = document.getElementById('switch');\nlet isLight = localStorage.getItem('isLight') === 'true';\n\ndocument.body.classList.toggle('light', isLight);\n\nLightSwitcher.onclick = function () {\n  isLight = !isLight;\n  document.body.classList.toggle('light', isLight);\n  localStorage.setItem('isLight', isLight);\n};\n\n// page link color\n\nconst currentUrl = window.location.href;\n\nconst navLink = document.querySelectorAll(\n  '.mobile-menu__link, .header__nav-link'\n);\n\nnavLink[0].classList.add('current__nav-link');\nnavLink[3].classList.add('current__nav-link');\n\nif (currentUrl.includes('index')) {\n  return;\n} else if (currentUrl.includes('catalog')) {\n  navLink[0].classList.remove('current__nav-link');\n  navLink[3].classList.remove('current__nav-link');\n  navLink[1].classList.add('current__nav-link');\n  navLink[4].classList.add('current__nav-link');\n  return;\n} else if (currentUrl.includes('library')) {\n  navLink[0].classList.remove('current__nav-link');\n  navLink[3].classList.remove('current__nav-link');\n  navLink[1].classList.remove('current__nav-link');\n  navLink[4].classList.remove('current__nav-link');\n  navLink[2].classList.add('current__nav-link');\n  navLink[5].classList.add('current__nav-link');\n  return;\n}\n","import './header';\nimport './hero';\nimport './movie-list';\nimport './upcoming';\nimport './footer';\nimport './my-library';\nimport './modal';\nimport './oops';\nimport './buttons-icons';\nimport './api-home';\n","import axios from 'axios';\nimport {genres, fullStar, halfStar, emptyStar, \n  heroFragment, topMoviesFragment, \n  upcomingMovieFragment, emptyApiResponeHero, \n  emptyApiResponeCatalog} from './api-html-fragment.js'\n\nconst params = {\n  page: 1,\n  language: 'en-US',\n  api_key: '682127ed972e56f6bb70ae743d23c1d7',\n};\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${params.api_key}`,\n  },\n};\n\nconst urls = {\n  trendMoviesDay: `https://api.themoviedb.org/3/trending/movie/day`,\n  trendMoviesWeek: `https://api.themoviedb.org/3/trending/movie/week`,\n  upcomingMovies: `https://api.themoviedb.org/3/movie/upcoming`,\n};\nconst generateStars = rating => {\n  let fullStars = Math.floor(rating);\n  let halfStars = rating % 1 >= 0.5 ? 1 : 0;\n  let emptyStars = 5 - fullStars - halfStars;\n  return `${fullStar.repeat(fullStars)}${halfStar.repeat(\n    halfStars\n  )}${emptyStar.repeat(emptyStars)}`;\n};\n\nconst createHeroMovie = resResponse => {\n  const maxLength = 200;\n  const heroSection = document.querySelector('#hero');\n  const randomMovieIndex = Math.floor(Math.random() * resResponse.data.results.length);\n  const topDayMovie = resResponse.data.results[randomMovieIndex];\n  const cutText = (text, maxLength) => text.length > maxLength ? text.slice(0, maxLength) + '...' : text;\n  const truncatedOverview = cutText(topDayMovie.overview, maxLength);\n  const rating = topDayMovie.vote_average / 2;\n  const starsHTML = generateStars(rating);\n\n  heroSection.innerHTML =heroFragment(topDayMovie.id, topDayMovie.backdrop_path, topDayMovie.title, starsHTML, truncatedOverview)\n};\n\n// const createHeroMovie = results => {\n//   // if (\n//   //   !results ||\n//   //   !results.data ||\n//   //   !results.data.results ||\n//   //   results.data.results.length === 0\n//   // ) {\n//   //   console.error('Invalid results data');\n//   //   return;\n//   // }\n// };\n\n\n\n//nie dziaÅ‚a\nconst movieGenresCompare = (arr1, arr2) => {\n\tconst finalArr = [];\n\tfor (i = 0; i < arr1.length; i += 1) {\n\t\t\t\tif (arr2.includes(arr1[i].id)) {\n\t\t\t\t\tfinalArr.push(arr1[i].name)\n\t\t\t\t}\n\t\t\t}\n\n\treturn finalArr.slice(0,2).join(\", \");\n}\n\nconst catalogItem = (movie) =>{\n  const movieGenres = movieGenresCompare(movie.genre_ids, genres)\n  const releaseYear = movie.release_date.slice(0, 4);\n  const rating = movie.vote_average / 2;\n  const starsHTML = generateStars(rating);\n  return topMoviesFragment(movie.id, movie.backdrop_path, movie.title, movieGenres, releaseYear, starsHTML, movie.id)\n}\n\nconst crateCatalog = (movies)=>{\n  const moviesCatalog = document.querySelector('#catalogMovielist');\n  let weekMoviesSectionFragment=\"\"\n  for (let index = 0; index < 3; index++) {\n    weekMoviesSectionFragment = weekMoviesSectionFragment + catalogItem(movies[index])\n  }\n  moviesCatalog.innerHTML=weekMoviesSectionFragment\n}\n\nconst createUpcomingMovie = movies => {\n  \n  const upcomingSection = document.querySelector('#upcoming');\n  const randomMovie = Math.floor(Math.random() * movies.length);\n  const upcomingMovie = movies[randomMovie];\n  console.log(upcomingMovie.id)\n  upcomingSection.innerHTML = upcomingMovieFragment(upcomingMovie.id, upcomingMovie.backdrop_path, upcomingMovie.title, upcomingMovie.overview)\n};\nfunction createDefaultHeroSection() {\n  const heroSection = document.querySelector('#hero');\n  heroSection.innerHTML = emptyApiResponeHero;}\n\n\nconst homePageApiData = url =>\n  axios\n    .get(url, { params, ...options })\n    .then(resResponse => {\n      if (url.includes('day')) {\n        const length=resResponse.data.results.length\n        //const length =0\n        if (length===0){\n          createDefaultHeroSection()\n          return;\n        }\n        //console.log(\"day:\", results)\n        createHeroMovie(resResponse);\n        return;\n      }\n      if (url.includes('week')) {\n        //console.log(\"week:\", results)\n        crateCatalog(resResponse.data.results);\n        return;\n      }\n      if (url.includes('upcoming')) {\n        //console.log(\"upcoming:\", results)\n        createUpcomingMovie(resResponse.data.results);\n        return;\n      }\n    })\n    .catch(error => {\n      if (url.includes('day')) {\n        if (length===0){\n          createDefaultHeroSection()\n          return;\n        }}\n      console.log(error)});\n\nconst homePageContent = async () =>\n  await Promise.all([\n    homePageApiData(urls.trendMoviesDay),\n    homePageApiData(urls.trendMoviesWeek),\n    homePageApiData(urls.upcomingMovies),\n  ]);\n\nhomePageContent();\n"],"names":["mobileMenuButton","document","getElementById","menuNav","overlay","addEventListener","style","left","display","LightSwitcher","isLight","localStorage","getItem","body","classList","toggle","onclick","setItem","currentUrl","window","location","href","navLink","querySelectorAll","add","includes","remove","parcelRequire","$2shzp","$36d31d62188e21d1$var$params","page","language","api_key","$36d31d62188e21d1$var$options","method","headers","accept","Authorization","$36d31d62188e21d1$var$urls","trendMoviesDay","trendMoviesWeek","upcomingMovies","$36d31d62188e21d1$var$generateStars","rating","fullStars","Math","floor","halfStars","emptyStars","$94Fp6","fullStar","repeat","halfStar","emptyStar","$36d31d62188e21d1$var$catalogItem","movie","movieGenres","arr1","arr2","finalArr","i","length","id","push","name","slice","join","$36d31d62188e21d1$var$movieGenresCompare","genre_ids","genres","releaseYear","release_date","vote_average","starsHTML","topMoviesFragment","backdrop_path","title","$36d31d62188e21d1$var$createDefaultHeroSection","querySelector","innerHTML","emptyApiResponeHero","$36d31d62188e21d1$var$homePageApiData","url","default","get","then","resResponse","data","results","heroSection","randomMovieIndex","random","topDayMovie","truncatedOverview","text","overview","maxLength","heroFragment","$36d31d62188e21d1$var$createHeroMovie","movies","moviesCatalog","weekMoviesSectionFragment","index","$36d31d62188e21d1$var$crateCatalog","upcomingSection","upcomingMovie","console","log","upcomingMovieFragment","$36d31d62188e21d1$var$createUpcomingMovie","catch","error","async","Promise","all","$36d31d62188e21d1$var$homePageContent"],"version":3,"file":"index.accd0b56.js.map"}