!function(){function t(t,e,n,i){Object.defineProperty(t,e,{get:n,set:i,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},o={},r=n.parcelRequired7c6;null==r&&((r=function(t){if(t in i)return i[t].exports;if(t in o){var e=o[t];delete o[t];var n={id:t,exports:{}};return i[t]=n,e.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){o[t]=e},n.parcelRequired7c6=r),r.register("iE7OH",(function(e,n){var i,o;t(e.exports,"register",(function(){return i}),(function(t){return i=t})),t(e.exports,"resolve",(function(){return o}),(function(t){return o=t}));var r={};i=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)r[e[n]]=t[e[n]]},o=function(t){var e=r[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),r.register("aNJCr",(function(e,n){var i;t(e.exports,"getBundleURL",(function(){return i}),(function(t){return i=t}));var o={};function r(t){return(""+t).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}i=function(t){var e=o[t];return e||(e=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(t)return r(t[2])}return"/"}(),o[t]=e),e}})),r("iE7OH").register(JSON.parse('{"dxLsE":"my-library.0a012124.js","ee16w":"sprite.5d6e6df3.svg"}'));var a,l=r("bpxeT"),s=r("2TvXO"),c=r("1h2Gi");a=r("aNJCr").getBundleURL("dxLsE")+r("iE7OH").resolve("ee16w");var d=r("8MBJY"),u=r("a2hTj"),m=new(0,r("hJeIc").default);m.setLibrary();var f=function(){"use strict";function t(n,i,o){e(d)(this,t),this.btn=n,this.btnStateStorageKey=i,this.movie=o}return e(u)(t,[{key:"setBtnState",value:function(){var t=this;m.movies.some((function(e){return e.id===t.movie.id}))?(this.btn.setAttribute("data-action","remove"),this.btn.textContent="Remove from library"):(this.btn.setAttribute("data-action","add"),this.btn.textContent="Add to library"),this.btn.addEventListener("click",(function(){"add"===t.btn.getAttribute("data-action")?t.toAdd():t.toRemove()}))}},{key:"toAdd",value:function(){m.addMovie(this.movie),this.btn.removeEventListener("click",this.toAdd),this.btn.setAttribute("data-action","remove"),localStorage.setItem(this.btnStateStorageKey,"remove"),this.btn.textContent="Remove from library"}},{key:"toRemove",value:function(){m.deleteMovie(this.movie),this.btn.removeEventListener("click",this.toRemove),this.btn.setAttribute("data-action","add"),localStorage.setItem(this.btnStateStorageKey,"add"),this.btn.textContent="Add to library"}}]),t}(),v=r("g4hZ6"),h=new(0,c.default),b=document.getElementById("catalg"),p=document.getElementById("mylibraryMovielist"),g=document.getElementById("catalogMovielist"),y=document.querySelector(".modal-film"),_=document.querySelector(".overlay");function w(t){t&&t.addEventListener("click",x)}function x(t){return k.apply(this,arguments)}function k(){return(k=e(l)(e(s).mark((function t(n){var i,o,r;return e(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.target.closest(".movielist-item")){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,i=n.target.closest(".movielist-item").getAttribute("data-id"),t.next=6,h.getMovieInfo(i);case 6:o=t.sent,L(S(o)),document.querySelector(".modal-film__close").addEventListener("click",A),E(),r=document.getElementById("mylibrary"),new f(r,"modal-btn-attr",o).setBtnState(),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[2,17]])})))).apply(this,arguments)}function E(){y.classList.remove("hidden"),_.classList.remove("hidden"),document.body.style.overflow="hidden"}function L(t){y.innerHTML=t}function S(t){var n,i=t.id,o=t.poster_path,r=t.title,l=t.overview,s=t.popularity,c=t.vote_average,d=t.vote_count,u=t.genres,m='srcset="\n                https://image.tmdb.org/t/p/w500/'.concat(n=o," 500w,\n                https://image.tmdb.org/t/p/w300/").concat(n," 342w,\n                https://image.tmdb.org/t/p/w185/").concat(n,' 185w"\n        src="https://image.tmdb.org/t/p/w500/').concat(n,'"\n\n        " sizes=" (min-width: 768px) 500px, (min-width: 480px) 342px, (min-width: 320px) 185px, 100vw"   \n    ');return'<div class="modal-film__container" data-id='.concat(i,'>\n  <button class="modal-film__close">\n    <svg width="18" height="18" class="modal-film__close-icon">\n    <use href="').concat(e(a),'#icon-close2"></use>       \n</svg>\n  </button>\n  <img ').concat(m,' loading="lazy" alt="movie-poster" class="modal-film__img" />\n  <div class="modal-film__card">\n    <h2 class="modal-film__title">').concat(r,'</h2>\n    <div class="modal-film__blok">\n      <ul class="modal-film__list attribute">\n        <li class="modal-film__link">Vote / Votes</li>\n        <li class="modal-film__link">Popularity</li>\n        <li class="modal-film__link">Genre</li>\n      </ul>\n\n      <ul class="modal-film__list">\n        <li class="modal-film__link-item item-votes">\n          <div class="vote">').concat(c,'</div>\n          &nbsp;/&nbsp;\n          <div class="votes">').concat(d,'</div>\n        </li>\n        <li class="modal-film__link-item popularity">').concat(s,'</li>\n        <li class="modal-film__link-item genres">').concat(u.map((function(t){return t.name})).join(", "),'</li>\n      </ul>\n    </div>\n    <h3 class="modal-film__about">ABOUT</h3>\n    <p class="modal-film__about-txt">').concat(l,'\n    </p>\n    <button class="btn" id="mylibrary" data-action="add">Add to my library</button>')}function A(){y.classList.add("hidden"),_.classList.add("hidden"),document.body.style.overflow="auto",(0,v.checkStorage)()}w(b),w(g),w(p),_.addEventListener("click",A),window.addEventListener("keydown",(function(t){"Escape"!==t.key||y.classList.contains("hidden")||A()}))}();
//# sourceMappingURL=my-library.0a012124.js.map
