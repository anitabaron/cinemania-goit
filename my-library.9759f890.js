function e(e,t,a,s){Object.defineProperty(e,t,{get:a,set:s,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},s={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in s){var t=s[e];delete s[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){s[e]=t},t.parcelRequired7c6=r),r.register("Iwkks",(function(t,a){e(t.exports,"checkStorage",(function(){return n}));var s=r("eiEnv");const i=new(0,r("88dhD").default);function n(){if(i.setLibrary(),0===i.movies.length){if(!document.querySelector(".my-lib__no-movies"))return;document.querySelector(".my-lib__no-movies").classList.remove("visually-hidden"),document.querySelector(".my-lib__gallery-list").innerHTML=""}else(0,s.default)(i.movies,".my-lib__gallery-list")}i.setLibrary(),n()})),r.register("eiEnv",(function(t,a){e(t.exports,"default",(function(){return c}));var s=r("1K14w"),i=r("7me8F"),n=r("2shzp").default;const o=new(0,i.default);let l;async function c(e,t){const a=document.querySelector(`${t}`);let s="";for(const t of e){const{id:e,poster_path:a,title:r,release_date:i,vote_average:n}=t;s+=`<li class='cards__list-item' data-id='${e}'>\n                    \n    <img class='cards__list-img' loading="lazy" ${await g(a,r)} width='395' height='574'/>\n    \n                   <div class='weekly-trends__overlay'></div>\n                    <div class='cards__list-search'>                       \n                        <div class='cards__bloc-stars'>\n                          <h3 class='cards__list-title'>${r}</h3>\n                          <div class='cards__list-text'>${await p(e)}|${await d(i)}<span class='cards__list-span'></span></div>\n                        </div>  \n                        \n                        \n                    </div>\n                    <div class='cards__list-stars'>${await u(n)}</div>\n                </li>`}a&&(a.innerHTML=s)}async function d(e){if(!e)return"There is no release date";return await e.slice(0,4)}async function p(e){try{const t=await n.get(`https://api.themoviedb.org/3/movie/${e}`,{params:{api_key:"682127ed972e56f6bb70ae743d23c1d7"}});if(0===t.data.genres.length)return error;return t.data.genres.slice(0,2).map((e=>e.name)).join(", ")}catch(e){return console.log(e),"There are no genres"}}function u(e){let t="";if(!e)return t=`${s.emptyStar.repeat(5)}`,`<div>${t}</div>`;switch(Math.round(e)){case 0:t=`${s.emptyStar.repeat(5)}`;break;case 1:t=`${s.halfStar}${s.emptyStar.repeat(4)}`;break;case 2:t=`${s.fullStar}${s.emptyStar.repeat(4)}`;break;case 3:t=`${s.fullStar}${s.halfStar}${s.emptyStar.repeat(3)}`;break;case 4:t=`${s.fullStar.repeat(2)}${s.emptyStar.repeat(3)}`;break;case 5:t=`${s.fullStar.repeat(2)}${s.halfStar}${s.emptyStar.repeat(2)}`;break;case 6:t=`${s.fullStar.repeat(3)}${s.emptyStar.repeat(2)}`;break;case 7:t=`${s.fullStar.repeat(3)}${s.halfStar}${s.emptyStar}`;break;case 8:t=`${s.fullStar.repeat(4)}${s.emptyStar}`;break;case 9:t=`${s.fullStar.repeat(4)}${s.halfStar}`;break;case 10:t=`${s.fullStar.repeat(5)}`;break;default:throw new Error("Invalid rating")}return`<div>${t}</div>`}function g(e,t){return`\n    srcset="\n                https://image.tmdb.org/t/p/w500/${e} 500w,\n                https://image.tmdb.org/t/p/w300/${e} 342w,\n                https://image.tmdb.org/t/p/w185/${e} 185w"\n        src="https://image.tmdb.org/t/p/w500/${e}"\n\n        " sizes=" (min-width: 768px) 500px, (min-width: 480px) 342px, (min-width: 320px) 185px, 100vw"   \n     alt='${t}'`}!async function(){try{const e=await o.getGenresList();l=e}catch(e){console.log(e)}}()})),r.register("1K14w",(function(t,a){e(t.exports,"emptyStar",(function(){return s})),e(t.exports,"fullStar",(function(){return r})),e(t.exports,"halfStar",(function(){return i}));const s='<svg class="star" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z" stroke="url(#paint0_linear_405_766)" stroke-linejoin="round"/>\n<defs>\n<linearGradient id="paint0_linear_405_766" x1="3.375" y1="2.625" x2="13.5" y2="16.5" gradientUnits="userSpaceOnUse">\n<stop stop-color="#F84119"/>\n<stop offset="1" stop-color="#F89F19" stop-opacity="0.68"/>\n</linearGradient>\n</defs>\n</svg>',r='<svg class="star" width="18" height="18" viewBox="0 0 18 18" fill="rgba(248, 65, 25, 1)" xmlns="http://www.w3.org/2000/svg">\n<path d="M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z" stroke="url(#paint0_linear_405_766)" stroke-linejoin="round"/>\n<defs>\n<linearGradient id="paint0_linear_405_766" x1="3.375" y1="2.625" x2="13.5" y2="16.5" gradientUnits="userSpaceOnUse">\n<stop stop-color="#F84119"/>\n<stop offset="1" stop-color="#F89F19" stop-opacity="0.68"/>\n</linearGradient>\n</defs>\n</svg>',i='<svg class="star" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z" stroke="url(#paint0_linear_148_6991)" stroke-linejoin="round"/>\n<path d="M9 1.6875V12.7969L4.14844 16.3125L6.04688 10.6875L1.125 7.3125H7.17188L9 1.6875Z" fill="url(#paint1_linear_148_6991)"/>\n<defs>\n<linearGradient id="paint0_linear_148_6991" x1="3.04877" y1="2.73251" x2="13.478" y2="16.7124" gradientUnits="userSpaceOnUse">\n<stop stop-color="#F84119"/>\n<stop offset="1" stop-color="#F89F19" stop-opacity="0.68"/>\n</linearGradient>\n<linearGradient id="paint1_linear_148_6991" x1="2.08688" y1="2.73251" x2="12.1506" y2="9.47748" gradientUnits="userSpaceOnUse">\n<stop stop-color="#F84119"/>\n<stop offset="1" stop-color="#F89F19" stop-opacity="0.68"/>\n</linearGradient>\n</defs>\n</svg>'})),r.register("7me8F",(function(t,a){e(t.exports,"default",(function(){return i}));var s=r("2shzp");class i{constructor(){this.key="682127ed972e56f6bb70ae743d23c1d7",this.baseURL="https://api.themoviedb.org/3/",this.page=0}resetPage(){this.page=0}async getTrends(e,t){if(arguments.length<2)try{this.page+=1;const t=await s.default.get(`${this.baseURL}trending/movie/${e}?api_key=${this.key}&page=${this.page}`);return console.log(t.data.results),t.data.results}catch(e){console.log(e)}else try{const a=await s.default.get(`${this.baseURL}trending/movie/${e}?api_key=${this.key}&page=${t}`);return console.log(a.data),a.data}catch(e){console.log(e)}}async getUpcoming(){try{const e=await s.default.get(`${this.baseURL}movie/upcoming?api_key=${this.key}`);return console.log(e.data.results),e.data.results}catch(e){console.log(e)}}async searchMovieByQuery(e,t){if(arguments.length<2)try{this.page+=1;return(await s.default.get(`${this.baseURL}search/movie?api_key=${this.key}&query=${e}&page=${this.page}`)).data.results}catch(e){console.log(e)}else try{return(await s.default.get(`${this.baseURL}search/movie?api_key=${this.key}&query=${e}&page=${t}`)).data}catch(e){console.log(e)}}async getMovieInfo(e){try{const t=await s.default.get(`${this.baseURL}movie/${e}?api_key=${this.key}`);return console.log(t.data),t.data}catch(e){console.log(e)}}async getMovieTrailer(e){try{const t=await s.default.get(`${this.baseURL}movie/${e}/videos?api_key=${this.key}`);return console.log(t.data.results[0]),t.data.results[0]}catch(e){console.log(e)}}async getGenresList(){try{const e=await s.default.get(`${this.baseURL}genre/movie/list?api_key=${this.key}`);return console.log(e.data.genres),e.data.genres}catch(e){console.log(e)}}async getMovieContries(){try{const e=await s.default.get(`${this.baseURL}configuration/countries?api_key=${this.key}`);return console.log(e.data),e.data}catch(e){console.log(e)}}}})),r.register("88dhD",(function(t,a){e(t.exports,"default",(function(){return s}));class s{constructor(){this.keyValue="library",this.movies=localStorage.getItem(this.keyValue)}updateLocalStorage(){localStorage.setItem(this.keyValue,JSON.stringify(this.movies)),console.log(this.movies,"updated localS")}setLibrary(){const e=localStorage.getItem(this.keyValue);e?this.movies=JSON.parse(e):(localStorage.setItem(this.keyValue,JSON.stringify([])),this.movies=[]),console.log(this.movies,"this.movies")}addMovie(e){this.movies.push(e),this.updateLocalStorage()}deleteMovie(e){const t=this.movies.findIndex((t=>t.id===e.id));this.movies.splice(t,1),this.updateLocalStorage()}}})),r("Iwkks");
//# sourceMappingURL=my-library.9759f890.js.map
