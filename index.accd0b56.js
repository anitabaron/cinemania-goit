var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,i.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o.register("bUb57",(function(e,t){const n=document.getElementById("menu"),i=document.getElementById("navi"),o=document.getElementById("overlay");n.addEventListener("click",(()=>{i.style.left="0",o.style.display="block"})),o.addEventListener("click",(()=>{i.style.left="-64%",o.style.display="none"}));const r=document.getElementById("switch");let a="true"===localStorage.getItem("isLight");document.body.classList.toggle("light",a),r.onclick=function(){a=!a,document.body.classList.toggle("light",a),localStorage.setItem("isLight",a)};const l=window.location.href,s=document.querySelectorAll(".mobile-menu__link, .header__nav-link");if(s[0].classList.add("current__nav-link"),s[3].classList.add("current__nav-link"),!l.includes("index"))return l.includes("catalog")?(s[0].classList.remove("current__nav-link"),s[3].classList.remove("current__nav-link"),s[1].classList.add("current__nav-link"),void s[4].classList.add("current__nav-link")):l.includes("library")?(s[0].classList.remove("current__nav-link"),s[3].classList.remove("current__nav-link"),s[1].classList.remove("current__nav-link"),s[4].classList.remove("current__nav-link"),s[2].classList.add("current__nav-link"),void s[5].classList.add("current__nav-link")):void 0})),o("bUb57");var r=o("2shzp"),a=o("94Fp6");const l={page:1,language:"en-US",api_key:"682127ed972e56f6bb70ae743d23c1d7"},s={method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${l.api_key}`}},c={trendMoviesDay:"https://api.themoviedb.org/3/trending/movie/day",trendMoviesWeek:"https://api.themoviedb.org/3/trending/movie/week",upcomingMovies:"https://api.themoviedb.org/3/movie/upcoming"},d=e=>{let t=Math.floor(e),n=e%1>=.5?1:0,i=5-t-n;return`${a.fullStar.repeat(t)}${a.halfStar.repeat(n)}${a.emptyStar.repeat(i)}`},u=e=>{const t=((e,t)=>{const n=[];for(i=0;i<e.length;i+=1)t.includes(e[i].id)&&n.push(e[i].name);return n.slice(0,2).join(", ")})(e.genre_ids,a.genres),n=e.release_date.slice(0,4),o=e.vote_average/2,r=d(o);return(0,a.topMoviesFragment)(e.id,e.backdrop_path,e.title,t,n,r,e.id)};function v(){document.querySelector("#hero").innerHTML=a.emptyApiResponeHero}const g=e=>r.default.get(e,{params:l,...s}).then((t=>{if(e.includes("day")){return 0===t.data.results.length?void v():void(e=>{const t=document.querySelector("#hero"),n=Math.floor(Math.random()*e.data.results.length),i=e.data.results[n],o=(r=i.overview,l=200,r.length>l?r.slice(0,l)+"...":r);var r,l;const s=i.vote_average/2,c=d(s);t.innerHTML=(0,a.heroFragment)(i.id,i.backdrop_path,i.title,c,o)})(t)}e.includes("week")?(e=>{const t=document.querySelector("#catalogMovielist");let n="";for(let t=0;t<3;t++)n+=u(e[t]);t.innerHTML=n})(t.data.results):e.includes("upcoming")&&(e=>{const t=document.querySelector("#upcoming"),n=e[Math.floor(Math.random()*e.length)];console.log(n.id),t.innerHTML=(0,a.upcomingMovieFragment)(n.id,n.backdrop_path,n.title,n.overview)})(t.data.results)})).catch((t=>{e.includes("day")&&0===length?v():console.log(t)}));(async()=>{await Promise.all([g(c.trendMoviesDay),g(c.trendMoviesWeek),g(c.upcomingMovies)])})();
//# sourceMappingURL=index.accd0b56.js.map
