var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,a.call(o.exports,o,o.exports),o.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},e.parcelRequired7c6=a);var o=a("2shzp"),n=a("94Fp6");const u={page:1,language:"en-US",api_key:"682127ed972e56f6bb70ae743d23c1d7"},l={method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${u.api_key}`}},s={urlDay:"https://api.themoviedb.org/3/trending/movie/day",urlWeek:"https://api.themoviedb.org/3/trending/movie/week",page:1,quantity:20},c=e=>{let t=Math.floor(e),r=e%1>=.5?1:0,a=5-t-r;return`${n.fullStar.repeat(t)}${n.halfStar.repeat(r)}${n.emptyStar.repeat(a)}`},d=e=>{const t=((e,t)=>{const r=[];for(i=0;i<e.length;i+=1)t.includes(e[i].id)&&r.push(e[i].name);return r.slice(0,2).join(", ")})(n.genres,e.genre_ids),r=e.release_date.slice(0,4),a=e.vote_average/2,o=c(a);return(0,n.topMoviesFragment)(e.id,e.backdrop_path,e.title,t,r,o)},p=()=>{document.querySelector("#catalogSection");catalogSection.innerHTML=n.emptyApiResponeCatalog},g=e=>{const t=document.querySelector("#catalg");let r="";e.forEach((e=>{r+=d(e)})),t.innerHTML=r},y=(e,t)=>{const r=document.querySelector("#pagesBtnSection"),a=Math.ceil(e/t);a<2||(r.innerHTML=(0,n.pagesBtnStartup)(a))};function h(){document.querySelector("#hero").innerHTML=n.emptyApiResponeHero}const m=e=>o.default.get(e,{params:u,...l}).then((t=>{const r=t.data.results.length;if(e.includes("day"))return 0===r?void h():void(e=>{const t=document.querySelector("#hero"),r=Math.floor(Math.random()*e.data.results.length),a=e.data.results[r],o=(u=a.overview,l=200,u.length>l?u.slice(0,l)+"...":u);var u,l;const s=a.vote_average/2,i=c(s);t.innerHTML=(0,n.heroFragment)(a.id,a.backdrop_path,a.title,i,o)})(t);0!==r?(g(t.data.results),y(t.data.total_results,20)):p()})).catch((e=>(p(),h(),console.log(e))));(async()=>{await Promise.all([m(s.urlDay),m(s.urlWeek)])})();class q{constructor({titel:e,adulds:t,page:r,country:a,year:o}){this.inputs.queryTitle=e,this.inputs.queryAdults=t,this.inputs.queryPages=r,this.inputs.queryRegion=a,this.inputs.queryYear=o}setups={coreUrl:"https://api.themoviedb.org/3/search/movie",query:"?",queryTitle:"query=",queryAdults:"&include_adult=",queryPages:"&page=",queryRegion:"&region=",queryYear:"&year="};inputs={queryTitle:"",queryAdults:"",queryPages:"",queryRegion:"",queryYear:""};set pageNumber(e){this.inputs.queryPages=e}set coreUrl(e){this.setups.coreUrl=e}get url(){return this.setups.coreUrl+this.setups.query+this.setups.queryTitle+this.inputs.queryTitle+this.setups.queryAdults+this.inputs.queryAdults+this.setups.queryPages+this.inputs.queryPages}}window.addEventListener("click",(e=>{console.log(e.target.parentElement.id);try{if("searchBtn"===e.target.id){if(e.preventDefault(),console.log(document.querySelector("#catalogFormInput").value.trim()),""==document.querySelector("#catalogFormInput").value.trim())return;const t=document.querySelector("#catalogFormInput").value.trim();let r="",a="";const n=document.querySelector("#catalogFormInput").value.trim(),s=new q({titel:n,adulds:"false",page:"1",country:"US",year:"2024"}),i=`https://api.themoviedb.org/3/search/movie?query=${t}&include_adult=false&page=1${r}${a}`;console.log("searchUrl: ",i),console.log("url: ",s.url);(async()=>{return await(e=i,o.default.get(e,{params:u,...l}).then((e=>{const t=e.data.results.length;document.querySelector("#catalg").hasChildNodes()&&document.querySelectorAll("#catalg > li").forEach((e=>e.remove())),null!==document.querySelector("#navForm")&&document.querySelector("#navForm").remove(),0!==t?(g(e.data.results),y(e.data.total_results,20)):p()})).catch((e=>(p(),console.log(e)))));var e})(i)}}catch(e){console.error(e)}}));
//# sourceMappingURL=catalog.fffba0e2.js.map
